/*
  github: https://github.com/chetachiezikeuzor/Highlightr-Plugin
  id: highlightr-plugin
  support added on: 29/09/2023
*/

/*
  - This plugin allows for various highlights using inline <mark> elements.
  - These have default colors, which I have set to use Halcyon colors.
  - There are also some "padding/margin" fixes 
    for the various highlighting styles that the plugin provides.
*/

// Setting default colors
body:is(.theme-dark)
	:is(.hltr-pink, mark.hltr-pink, .markdown-preview-view mark.hltr-pink) {
	background: rgba(var(--color-pink-rgb), 65%);
}
body:is(.theme-dark)
	:is(.hltr-red, mark.hltr-red, .markdown-preview-view mark.hltr-red) {
	background: rgba(var(--color-red-rgb), 65%);
}
body:is(.theme-dark)
	:is(
		.hltr-orange,
		mark.hltr-orange,
		.markdown-preview-view mark.hltr-orange
	) {
	background: rgba(var(--color-orange-rgb), 65%);
}
body:is(.theme-dark)
	:is(
		.hltr-yellow,
		mark.hltr-yellow,
		.markdown-preview-view mark.hltr-yellow
	) {
	background: rgba(var(--color-yellow-rgb), 65%);
}
body:is(.theme-dark)
	:is(.hltr-green, mark.hltr-green, .markdown-preview-view mark.hltr-green) {
	background: rgba(var(--color-green-rgb), 65%);
}
body:is(.theme-dark)
	:is(.hltr-cyan, mark.hltr-cyan, .markdown-preview-view mark.hltr-cyan) {
	background: rgba(var(--color-cyan-rgb), 65%);
}
body:is(.theme-dark)
	:is(.hltr-blue, mark.hltr-blue, .markdown-preview-view mark.hltr-blue) {
	background: rgba(var(--color-blue-rgb), 65%);
}
body:is(.theme-dark)
	:is(
		.hltr-purple,
		mark.hltr-purple,
		.markdown-preview-view mark.hltr-purple
	) {
	background: rgba(var(--color-purple-rgb), 65%);
}

// Padding/margin fixes for the included highlighting styles
body:is(.theme-dark).highlightr-rounded
	:is(mark, span.cm-highlight, .markdown-preview-view mark) {
	padding-top: 0;
	padding-bottom: 0;
}
body:is(.theme-dark).highlightr-realistic
	:is(mark, span.cm-highlight, .markdown-preview-view mark) {
	padding-top: 0;
	padding-bottom: 0;
}
body:is(.theme-dark).highlightr-lowlight
	:is(mark, span.cm-highlight, .markdown-preview-view mark) {
	--lowlight-background: var(--background-primary);
	background-image: linear-gradient(
		0,
		var(--lowlight-background) 10%,
		rgba(var(--mono-rgb-0), 0) 10%,
		rgba(var(--mono-rgb-0), 0) 25%,
		var(--lowlight-background) 40%
	) !important;
}
body:is(.theme-dark).highlightr-floating
	mark[class*='hltr']:last-of-type:not(mark[class*='hltr']:only-of-type) {
	--floating-background: var(--background-primary);
	--floating-size: 20%;
	padding-bottom: 0.1em;
	background-image: linear-gradient(
		0,
		rgba(var(--mono-rgb-0), 0) var(--floating-size),
		var(--floating-background) var(--floating-size)
	) !important;
}
body:is(.theme-dark) .markdown-source-view:is(.is-live-preview) mark {
	color: var(--text-normal);
}
